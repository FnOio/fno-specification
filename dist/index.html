<!DOCTYPE html><html dir="ltr" lang="en"><head>
<meta charset="utf-8">
<meta name="generator" content="ReSpec 26.0.0">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
span.example-title{text-transform:none}
aside.example,div.example,div.illegal-example{padding:.5em;margin:1em 0;position:relative;clear:both}
div.illegal-example{color:red}
div.illegal-example p{color:#000}
aside.example,div.example{padding:.5em;border-left-width:.5em;border-left-style:solid;border-color:#e0cb52;background:#fcfaee}
aside.example div.example{border-left-width:.1em;border-color:#999;background:#fff}
aside.example div.example span.example-title{color:#999}
</style>
<style>
.issue-label{text-transform:initial}
.warning>p:first-child{margin-top:0}
.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
span.warning{padding:.1em .5em .15em}
.issue.closed span.issue-number{text-decoration:line-through}
.warning{border-color:#f11;border-width:.2em;border-style:solid;background:#fbe9e9}
.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
li.task-list-item{list-style:none}
input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}
</style>
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font:small Helvetica Neue,sans-serif,Droid Sans Fallback;background:#fff;color:#000;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;margin-top:.25em}
.dfn-panel ul a[href]{color:#333}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
    
<title>The Function Ontology</title>
    
    
<link rel="stylesheet" type="text/css" href="./resources/css/extras.css">
    
<script async="" src="//www.google-analytics.com/analytics.js"></script>
    
<style type="text/css">

        code {
            font-size: 120%;
        }
    
</style>
    
    
<script>
      (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
          (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
          m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
      })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

      ga('create', 'UA-87734787-2', 'auto');
      ga('send', 'pageview');

    </script>

<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
.hljs{background:0 0!important}
a abbr,h1 abbr,h2 abbr,h3 abbr,h4 abbr,h5 abbr,h6 abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
code{color:#c63501}
th code{color:inherit}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
a .figno,a .secno{color:#000}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
a[href].self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
h2,h3,h4,h5,h6{position:relative}
aside.example .marker>a.self-link{color:inherit}
h2>a.self-link,h3>a.self-link,h4>a.self-link,h5>a.self-link,h6>a.self-link{border:none;color:inherit;font-size:83%;height:2em;left:-1.6em;opacity:.5;position:absolute;text-align:center;text-decoration:none;top:0;transition:opacity .2s;width:2em}
h2>a.self-link::before,h3>a.self-link::before,h4>a.self-link::before,h5>a.self-link::before,h6>a.self-link::before{content:"§";display:block}
@media (max-width:767px){
dd{margin-left:0}
h2>a.self-link,h3>a.self-link,h4>a.self-link,h5>a.self-link,h6>a.self-link{left:auto;top:auto}
}
@media print{
.removeOnSave{display:none}
}
</style>
<meta name="description" content="This document discusses the Function Ontology: a way to semantically declare and describe implementation-independent
functions, and their relations to related concepts such as parameters, outputs, related problems, algorithms, mappings
to concrete implementations, and executions.">
<style>
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}
.hljs-comment,.hljs-quote{color:#717277;font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;font-weight:700}
.hljs-literal{color:#0b76c5}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}
</style>
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#000}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#000;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "localBiblio": {
    "hydra": {
      "title": "Hydra Core Vocabulary",
      "href": "https://www.hydra-cg.com/spec/latest/core/",
      "status": "Unofficial Draft",
      "publisher": "W3C",
      "date": "08 December 2020",
      "id": "hydra"
    },
    "owls": {
      "title": "OWL-S: Semantic Markup for Web Services",
      "href": "https://www.w3.org/Submission/OWL-S/",
      "status": "W3C Member Submission",
      "publisher": "W3C",
      "date": "22 November 2004",
      "id": "owls"
    },
    "wadl": {
      "title": "Web Application Description Language",
      "href": "https://www.w3.org/Submission/wadl/",
      "status": "W3C Member Submission",
      "publisher": "W3C",
      "date": "31 August 2009",
      "id": "wadl"
    },
    "10.1016/j.future.2019.10.006": {
      "authors": [
        "Ben De Meester",
        "Tom Seymoens",
        "Anastasia Dimou",
        "Ruben Verborgh"
      ],
      "title": "Implementation-independent function reuse",
      "href": "https://doi.org/10.1016/j.future.2019.10.006",
      "status": "Future Generation Computer Systems",
      "publisher": "Elsevier",
      "date": "September 2020",
      "id": "10.1016/j.future.2019.10.006"
    }
  },
  "doRdfa": "true",
  "processVersion": 2015,
  "specStatus": "unofficial",
  "shortName": "function",
  "copyrightStart": "2016",
  "edDraftURI": "https://w3id.org/function/spec/",
  "editors": [
    {
      "name": "Ben De Meester",
      "mailto": "ben.demeester@ugent.be",
      "company": "Ghent University &ndash; imec &ndash; IDLab",
      "url": "https://ben.de-meester.org/#me",
      "orcidid": "0000-0003-0248-0987",
      "companyURL": "http://idlab.technology/"
    },
    {
      "name": "Anastasia Dimou",
      "mailto": "anastasia.dimou@ugent.be",
      "company": "Ghent University &ndash; imec &ndash; IDLab",
      "orcidid": "0000-0003-2138-7972",
      "companyURL": "http://idlab.technology/"
    }
  ],
  "otherLinks": [
    {
      "key": "This Version",
      "data": [
        {
          "value": "https://w3id.org/function/spec/20210105/",
          "href": "https://w3id.org/function/spec/20210105/"
        }
      ]
    },
    {
      "key": "Previous Version",
      "data": [
        {
          "value": "https://w3id.org/function/spec/20200624/",
          "href": "https://w3id.org/function/spec/20200624/"
        }
      ]
    },
    {
      "key": "Website",
      "data": [
        {
          "value": "https://fno.io",
          "href": "https://fno.io"
        }
      ]
    }
  ],
  "_ijt": "3fp7mbmr8vst3uos95ps00eube",
  "publishISODate": "2021-01-05T00:00:00.000Z",
  "generatedSubtitle": "Unofficial Draft 05 January 2021"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-UD"></head>
<body class="h-entry"><div class="head">
     <h1 id="title" class="title">The Function Ontology</h1>
    
    <h2>
      Unofficial Draft
      <time class="dt-published" datetime="2021-01-05">05 January 2021</time>
    </h2>
    <dl>
      
      <dt>Latest editor's draft:</dt><dd><a href="https://w3id.org/function/spec/">https://w3id.org/function/spec/</a></dd>
      
      
      
      
      
      <dt>Editors:</dt>
      <dd class="p-author h-card vcard"><a class="ed_mailto u-email email p-name" href="mailto:ben.demeester@ugent.be">Ben De Meester</a>
            (<a class="p-org org h-org h-card" href="http://idlab.technology/">Ghent University – imec – IDLab</a>)
          </dd><dd class="p-author h-card vcard"><a class="ed_mailto u-email email p-name" href="mailto:anastasia.dimou@ugent.be">Anastasia Dimou</a>
            (<a class="p-org org h-org h-card" href="http://idlab.technology/">Ghent University – imec – IDLab</a>)
          </dd>
      
      
      <dt>This Version:</dt><dd>
    <a href="https://w3id.org/function/spec/20210105/">https://w3id.org/function/spec/20210105/</a>
  </dd><dt>Previous Version:</dt><dd>
    <a href="https://w3id.org/function/spec/20200624/">https://w3id.org/function/spec/20200624/</a>
  </dd><dt>Website:</dt><dd>
    <a href="https://fno.io">https://fno.io</a>
  </dd>
    </dl>
    
    
    
    <p class="copyright">
          This document is licensed under a
          <a rel="license" href="https://creativecommons.org/licenses/by/4.0/" class="subfoot">Creative Commons Attribution 4.0 License</a>.
        </p>
    <hr title="Separator for header">
  </div>
<section id="abstract" class="introductory"><h2>Abstract</h2><p>This document discusses the Function Ontology: a way to semantically declare and describe implementation-independent
functions, and their relations to related concepts such as parameters, outputs, related problems, algorithms, mappings
to concrete implementations, and executions.</p><p>A list of the publications concerning the Function Ontology can be viewed at <a href="https://fno.io">https://fno.io</a>.</p><p>The main scientific publication is <em>Implementation-independent function reuse</em> [<cite><a class="bibref" data-link-type="biblio" href="#bib-10.1016/j.future.2019.10.006" title="Implementation-independent function reuse">10.1016/j.future.2019.10.006</a></cite>].</p><section><h3 id="namespace">Namespace<a class="self-link" aria-label="§" href="#namespace"></a></h3><p>The Function Ontology's namespace is <a href="https://w3id.org/function/ontology#">https://w3id.org/function/ontology#</a></p><p>The preferred prefix is <code>fno:</code></p><p>The discussed ontology's version is <a href="https://w3id.org/function/ontology/1.0.0">1.0.0</a>.</p><p>The used vocabularies are the
<a href="https://w3id.org/function/vocabulary/mapping/0.2.1">FnO mapping vocabulary v0.2.1</a> (<code>fnom:</code>)
and the
<a href="https://w3id.org/function/vocabulary/implementation/0.1.1">FnO implementation vocabulary v0.1.1</a> (<code>fnoi:</code>).</p></section></section>

<section id="sotd" class="introductory"><h2>Status of This Document</h2><p>
      This document is a draft of a potential specification. It has no official
      standing of any kind and does not represent the support or consensus of
      any standards organization.
    </p>
    <p data-format="markdown"><p>This is an early draft,
yet efforts are made to keep things stable,
given the uptake of FnO in, among others, <a href="https://rml.io">RML.io</a>.</p></p>
</section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">1. </bdi>Conformance</a></li><li class="tocline"><a class="tocxref" href="#problem"><bdi class="secno">2. </bdi>The Problem</a></li><li class="tocline"><a class="tocxref" href="#definitions"><bdi class="secno">3. </bdi>Definitions</a></li><li class="tocline"><a class="tocxref" href="#ontology"><bdi class="secno">4. </bdi>The Function Ontology</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#ontology-abstract"><bdi class="secno">4.1 </bdi>Function (abstract)</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fn-function"><bdi class="secno">4.1.1 </bdi><code>fno:Function</code></a></li><li class="tocline"><a class="tocxref" href="#fn-problem"><bdi class="secno">4.1.2 </bdi><code>fno:Problem</code></a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fn-solves"><bdi class="secno">4.1.2.1 </bdi><code>fno:solves</code></a></li></ol></li><li class="tocline"><a class="tocxref" href="#fn-algorithm"><bdi class="secno">4.1.3 </bdi><code>fno:Algorithm</code></a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fn-implements"><bdi class="secno">4.1.3.1 </bdi><code>fno:implements</code></a></li></ol></li><li class="tocline"><a class="tocxref" href="#fn-parameter"><bdi class="secno">4.1.4 </bdi><code>fno:Parameter</code></a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fn-expects"><bdi class="secno">4.1.4.1 </bdi><code>fno:expects</code></a></li><li class="tocline"><a class="tocxref" href="#fn-predicate"><bdi class="secno">4.1.4.2 </bdi><code>fno:predicate</code></a></li><li class="tocline"><a class="tocxref" href="#fn-type"><bdi class="secno">4.1.4.3 </bdi><code>fno:type</code></a></li><li class="tocline"><a class="tocxref" href="#fn-required"><bdi class="secno">4.1.4.4 </bdi><code>fno:required</code></a></li></ol></li><li class="tocline"><a class="tocxref" href="#fn-execution"><bdi class="secno">4.1.5 </bdi><code>fno:Execution</code></a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fn-executes"><bdi class="secno">4.1.5.1 </bdi><code>fno:executes</code></a></li></ol></li><li class="tocline"><a class="tocxref" href="#fn-output"><bdi class="secno">4.1.6 </bdi><code>fno:Output</code></a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fn-returns"><bdi class="secno">4.1.6.1 </bdi><code>fno:returns</code></a></li></ol></li><li class="tocline"><a class="tocxref" href="#complete-example"><bdi class="secno">4.1.7 </bdi>Complete example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#ontology-concrete"><bdi class="secno">4.2 </bdi>Implementation (concrete)</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fno-implementation"><bdi class="secno">4.2.1 </bdi><code>fno:Implementation</code></a><ol class="toc"><li class="tocline"><a class="tocxref" href="#hydra"><bdi class="secno">4.2.1.1 </bdi>Example: Hydra</a></li></ol></li><li class="tocline"><a class="tocxref" href="#fno-Mapping"><bdi class="secno">4.2.2 </bdi><code>fno:Mapping</code></a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fno-MethodMapping"><bdi class="secno">4.2.2.1 </bdi><code>fno:MethodMapping</code></a></li><li class="tocline"><a class="tocxref" href="#fno-ParameterMapping"><bdi class="secno">4.2.2.2 </bdi><code>fno:ParameterMapping</code></a></li><li class="tocline"><a class="tocxref" href="#fno-ReturnMapping"><bdi class="secno">4.2.2.3 </bdi><code>fno:ReturnMapping</code></a></li></ol></li><li class="tocline"><a class="tocxref" href="#execution-with-a-mapping"><bdi class="secno">4.2.3 </bdi>Execution with a Mapping</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#fno-uses"><bdi class="secno">4.2.3.1 </bdi><code>fno:uses</code></a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#full-example"><bdi class="secno">4.3 </bdi>Full example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#examples"><bdi class="secno">5. </bdi>Examples</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#array-of-parameters"><bdi class="secno">5.1 </bdi>Array of parameters</a></li><li class="tocline"><a class="tocxref" href="#required-output"><bdi class="secno">5.2 </bdi>Required output</a></li></ol></li><li class="tocline"><a class="tocxref" href="#relation-to-other-types-of-descriptions"><bdi class="secno">6. </bdi>Relation to other types of descriptions</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#web-services"><bdi class="secno">6.1 </bdi>Web services</a></li></ol></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">A. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">A.1 </bdi>Normative references</a></li><li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">A.2 </bdi>Informative references</a></li></ol></li></ol></nav>

<section id="conformance"><h2 id="x1-conformance"><bdi class="secno">1. </bdi>Conformance<a class="self-link" aria-label="§" href="#conformance"></a></h2><p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p><p>
        The key words <em class="rfc2119">MUST</em> and <em class="rfc2119">SHOULD</em> in this document
        are to be interpreted as described in
        <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
        when, and only when, they appear in all capitals, as shown here.
      </p></section>

<section id="the-problem"><h2 id="problem"><bdi class="secno">2. </bdi>The Problem<a class="self-link" aria-label="§" href="#problem"></a></h2><p>Functions are processes that perform a specific task by associating one or more inputs to an output. They are essential
building blocks of information retrieval and information management, and of computer science in general. For example,
during extraction of birthdates from a semi-structured dataset, normalization of these dates improves further analysis.</p><p>However, the development, maintenance, and support efforts of
<em>implementing</em> these functions are fragmented. Efforts are fragmented across different <em>development contexts</em>
(i.e., a combination of, among others, programming language, programming paradigm, and architecture), and it is not
feasible to consolidate these efforts by limiting all developers to the same development context. On the one hand
because implementations are tuned to meet different requirements, on the other hand due to prior investment. Thus, the
same function can have multiple implementations, each within a specific development context. For example, a function to
normalize dates may have implementations available as a piece of JavaScript source code, as part of a JAVA software
package, and within a RESTful Web service.</p><p>This specification (and accompanying <a href="https://w3id.org/function/ontology">ontology</a>)
explains how to semantically declare and describe functions, their input parameters, and possible outputs. Instead
of <em>defining</em> technology-specifics, the functions are <em>described</em> independent of the technology that
implements them. By semantically defining these functions using an ontology, we provide a uniform and unambiguous
solution, and thus, we can close the gap between semantic data and any real-world action, and enable semantic
applications to be used in real-world scenarios.</p><p>We furthermore provide links to other – not further specified – concepts such as problems and algorithms,
and specify the additional mappings of these abstract functions to (existing) concrete implementations.</p></section>

<section id="definitions"><h2 id="x3-definitions"><bdi class="secno">3. </bdi>Definitions<a class="self-link" aria-label="§" href="#definitions"></a></h2><p>The following document makes a clear distinction between following concepts:</p><ul>
<li>A <dfn id="dfn-function-declaration">function declaration</dfn> is stating that a function exists, without further ado. 
For example, <code>function sum</code> is a <a href="#dfn-function-declaration" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-function-declaration-1">function declaration</a>.</li>
<li>A <dfn id="dfn-function-description">function description</dfn> describes the function, i.e., talks about the inputs and outputs of the function.
For example, the function above can have the following description: <code>function int sum(int a, int b)</code>, namely,
the function <code>sum</code> has two input parameters, <code>int a</code> and <code>int b</code>, and returns an integer.</li>
<li>An <dfn id="dfn-assignment">assignment</dfn> fills in the values of the parameters of a functions.
For example, a possible assignment for the exemplary function could be <code>sum(2, 4)</code>, namely,
assigning the values <code>2</code> to <code>a</code> and <code>4</code> to <code>b</code>.</li>
</ul><p>Furthermore, we define following concepts:</p><ul>
<li>A <dfn data-plurals="functions" id="dfn-function">function</dfn> is a process that performs a specific task. 
In essence, its identification is a <a href="#dfn-function-declaration" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-function-declaration-2">function declaration</a>.
A function can associate one or more
<a data-lt="parameter" href="#dfn-parameter" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-parameter-1">parameters</a> to an <a href="#dfn-output" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-output-1">output</a>.
A function can have input parameters, output, solve certain
<a data-lt="problem" href="#dfn-problem" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-problem-1">problems</a>,
and can be implemented using certain <a data-lt="algorithm" href="#dfn-algorithm" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-algorithm-1">algorithms</a>.
It's execution can also be described in an
implementation-independent manner, see <a href="https://fno.io/spec/#dfn-execution">https://fno.io/spec/#dfn-execution</a>.
<em>The ontology term is defined at <a href="#fn-function">fno:Function</a>.</em></li>
<li>A <dfn data-plurals="problems" id="dfn-problem">problem</dfn> is a general issue. Some problems can be solved by executing a certain <a href="#dfn-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-function-1">function</a>.
For example, the above function solves the <code>doing a sum</code> problem, however,
"global warming" could also be perceived as a problem, with no single function to solve it.
<em>The ontology term is defined at <a href="#fn-problem">fno:Problem</a>.</em></li>
<li>An <dfn data-plurals="algorithms" id="dfn-algorithm">algorithm</dfn> is a specified set of instructions, independent of its <a href="#dfn-implementation" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-implementation-1">implementation</a> (e.g., Dijkstra's shortest path algorithm).
A <a href="#dfn-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-function-2">function</a> can be implemented using a known algorithm, or use a combination of multiple algorithms to solve a certain <a href="#dfn-problem" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-problem-2">problem</a>.
A function does not have to be implemented by any algorithm or have to be mapped one-on-one to an algorithm.
It is not required to have a one-to-one mapping between an algorithm and a problem.
<em>The ontology term is defined at <a href="#fn-algorithm">fno:Algorithm</a>.</em></li>
<li>A <dfn data-plurals="parameters" id="dfn-parameter">parameter</dfn> is the description of the input value of a <a href="#dfn-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-function-3">function</a>.
For example, the above function has two parameters, <code>a</code> and <code>b</code>.
<em>The ontology term is defined at <a href="#fn-parameter">fno:Parameter</a>.</em></li>
<li>An <dfn id="dfn-output">output</dfn> is the description of the output value of a <a href="#dfn-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-function-4">function</a>.
For example, the above function has one output, an integer.
A <a href="#dfn-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-function-5">function</a> can have multiple outputs (e.g., callbacks in JavaScript can return multiple results, or a function could throw multiple types of errors).
A <a href="#dfn-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-function-6">function</a> with all parameters and outputs defined is a <a href="#dfn-function-description" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-function-description-1">function description</a>.
<em>The ontology term is defined at <a href="#fn-output">fno:Output</a>.</em></li>
<li>An <dfn data-plurals="executions" id="dfn-execution">execution</dfn> is the <a href="#dfn-assignment" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-assignment-1">assignment</a> of the values of the parameters of a function.
An <a href="#dfn-execution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-execution-1">execution</a> has as result the value of the <a href="#dfn-output" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-output-2">output</a> of the function.
For example, <code>sum(2, 4)</code> is an execution of the example function.
The value of the output is known after the function is executed, and should in this case be the integer <code>6</code>.
<em>The ontology term is defined at <a href="fn-execution">fno:Execution</a>.</em></li>
<li>An <dfn data-plurals="implementations" id="dfn-implementation">implementation</dfn> defines the internal workings of one or more <a data-lt="function" href="#dfn-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-function-7">functions</a>.
This depends on the used development context, i.e., the used programming language and execution environment.
An implementation could be, e.g., an NPM package.
<em>The ontology term is defined at <a href="#fno-implementation">fno:Implementation</a>.</em></li>
<li>A <dfn id="dfn-mapping">mapping</dfn> links (abstract) <a data-lt="function" href="#dfn-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-function-8">functions</a> and (concrete) <a data-lt="implementation" href="#dfn-implementation" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-implementation-2">implementations</a>.
<em>The ontology term is defined at <a href="#fno-Mapping">fno:Mapping</a>.</em></li>
</ul><p>In this specification, a <a href="#dfn-problem" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-problem-3">problem</a> and <a href="#dfn-algorithm" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-algorithm-2">algorithm</a> are not described in further detail.
We mostly provide generic relations to point to other vocabularies or ontologies.
This way, problems and algorithms can be further specified in complementary vocabularies.</p></section>

<section id="the-function-ontology"><h2 id="ontology"><bdi class="secno">4. </bdi>The Function Ontology<a class="self-link" aria-label="§" href="#ontology"></a></h2><p>The Function Ontology distinguishes between the (<em>abstract</em>) function and the (<em>concrete</em>) implementation. The two can
be used together, but are complementary.</p><section id="function-abstract"><h3 id="ontology-abstract"><bdi class="secno">4.1 </bdi>Function (abstract)<a class="self-link" aria-label="§" href="#ontology-abstract"></a></h3><figure id="fig-the-function-ontology">
    <img src="./resources/images/function_ontology_2.png" alt="The Function Ontology" width="730" height="375">
    <figcaption>Figure <bdi class="figno">1</bdi> <span class="fig-title">The Function Ontology</span></figcaption>
</figure><p>The Function Ontology follows
the <a href="http://ontologydesignpatterns.org/wiki/Category:ContentOP">Content Ontology Design Pattern</a>
and consists of a couple of base classes that need to be instantiated for real world use cases.
Input <a data-lt="parameter" href="#dfn-parameter" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-parameter-2">parameters</a> and <a href="#dfn-output" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-output-3">output</a> values are connected to <a data-lt="function" href="#dfn-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-function-9">
functions</a> via
<a data-lt="execution" href="#dfn-execution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-execution-2">executions</a>, using a reification paradigm [<cite><a class="bibref" data-link-type="biblio" href="#bib-rdf-primer" title="RDF Primer">rdf-primer</a></cite>].</p><p>It uses SKOS to define relations between <a data-lt="function" href="#dfn-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-function-10">functions</a>,
<a data-lt="problem" href="#dfn-problem" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-problem-4">problems</a>, and <a data-lt="algorithm" href="#dfn-algorithm" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-algorithm-3">algorithms</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-skos-primer" title="SKOS Simple Knowledge Organization System Primer">skos-primer</a></cite>].</p><p>To be consistent with the paradigms used in SKOS, axioms need to be made instead of subclassing the base classes of the
Function Ontology. The reification paradigm allows to define the connection between an <a href="#dfn-execution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-execution-3">execution</a> and the input
<a data-lt="parameter" href="#dfn-parameter" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-parameter-3">parameters</a> and <a href="#dfn-output" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-output-4">output</a> values. This allows for reusing these connection definitions,
and more meaningful connections between input
<a data-lt="parameter" href="#dfn-parameter" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-parameter-4">parameters</a> and <a href="#dfn-execution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-execution-4">execution</a>.</p><p>No cardinalities are defined in the Function Ontology, as there are no hard limits on cardinality to be defined. A <a href="#dfn-function" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-function-11">
function</a> can implement multiple <a data-lt="algorithm" href="#dfn-algorithm" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-algorithm-4">algorithms</a>, solve multiple
<a data-lt="problem" href="#dfn-problem" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-problem-5">problems</a>, and have multiple <a data-lt="execution" href="#dfn-execution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-execution-5">executions</a>. All executions can have
multiple input <a data-lt="parameter" href="#dfn-parameter" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-parameter-5">parameters</a> and <a href="#dfn-output" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-output-5">output</a> values. Vice versa, input parameters and output
values can be linked to multiple executions, and an execution (i.e., a set of input values and output values) can be
linked to multiple functions.</p><section id="fno-function"><h4 id="fn-function"><bdi class="secno">4.1.1 </bdi><code>fno:Function</code><a class="self-link" aria-label="§" href="#fn-function"></a></h4><div class="example" id="example-1-generatedID">
        <div class="marker">
    <a class="self-link" href="#example-1-generatedID">Example<bdi> 1</bdi></a><span class="example-title">:  </span>
  </div> <pre class="turtle"><code class="turtle hljs" aria-busy="false">ex:sumFunction
    a                   fno:Function ;
    fno:name            "The sum function"^^xsd:string ;
    dcterms:description "This function can do the sum of two integers."^^xsd:string .</code></pre>
      </div><p>This is a <a href="#dfn-function-declaration" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-function-declaration-3">function declaration</a>: a sum function is defined and described.</p></section><section id="fno-problem"><h4 id="fn-problem"><bdi class="secno">4.1.2 </bdi><code>fno:Problem</code><a class="self-link" aria-label="§" href="#fn-problem"></a></h4><div class="example" id="example-2-generatedID">
        <div class="marker">
    <a class="self-link" href="#example-2-generatedID">Example<bdi> 2</bdi></a><span class="example-title">:  </span>
  </div> <pre class="turtle"><code class="turtle hljs" aria-busy="false">ex:sumFunction
    a          fno:Function ;
    fno:solves ex:sumProblem .

ex:sumProblem
    a                   fno:Problem ;
    fno:name            "The sum problem"^^xsd:string ;
    dcterms:description "This handles the problem of adding two integers to each other."^^xsd:string ;
    skos:broader        ex:mathProblem .</code></pre>
      </div><p>Functions can be linked to Problems, which are more general descriptions than functions, e.g., the “Euclidean
distance”-function is related to the “Distance”-problem. To create a more specific organization, problems can be further
interlinked with each other using the SKOS standard [<cite><a class="bibref" data-link-type="biblio" href="#bib-skos-primer" title="SKOS Simple Knowledge Organization System Primer">skos-primer</a></cite>].</p><div class="note" role="note" id="issue-container-generatedID"><div role="heading" class="note-title marker" id="h-note" aria-level="5"><span>Note</span></div><div class="">

<p><code>skos</code> terms can be used to relate problems with each other. This can also be done for algorithms and functions.</p>
</div></div><section id="fno-solves"><h5 id="fn-solves"><bdi class="secno">4.1.2.1 </bdi><code>fno:solves</code><a class="self-link" aria-label="§" href="#fn-solves"></a></h5><p><strong>Domain</strong> <a href="#fn-function">fno:Function</a></p><p><strong>Range</strong> <a href="#fn-problem">fno:Problem</a></p></section></section><section id="fno-algorithm"><h4 id="fn-algorithm"><bdi class="secno">4.1.3 </bdi><code>fno:Algorithm</code><a class="self-link" aria-label="§" href="#fn-algorithm"></a></h4><div class="example" id="example-3-generatedID">
        <div class="marker">
    <a class="self-link" href="#example-3-generatedID">Example<bdi> 3</bdi></a><span class="example-title">:  </span>
  </div> <pre class="turtle"><code class="turtle hljs" aria-busy="false">ex:sumFunction
    a              fno:Function ;
    fno:implements ex:sumAlgorithm .

ex:sumAlgorithm
    a                   fno:Algorithm ;
    fno:name            "The sum algorithm"^^xsd:string ;
    dcterms:description "About how to add two integers to each other."^^xsd:string ;</code></pre>
      </div><section id="fno-implements"><h5 id="fn-implements"><bdi class="secno">4.1.3.1 </bdi><code>fno:implements</code><a class="self-link" aria-label="§" href="#fn-implements"></a></h5><p><strong>Domain</strong> <a href="#fn-function">fno:Function</a></p><p><strong>Range</strong> <a href="#fn-algorithm">fno:Algorithm</a></p></section></section><section id="fno-parameter"><h4 id="fn-parameter"><bdi class="secno">4.1.4 </bdi><code>fno:Parameter</code><a class="self-link" aria-label="§" href="#fn-parameter"></a></h4><div class="example" id="example-4-generatedID">
        <div class="marker">
    <a class="self-link" href="#example-4-generatedID">Example<bdi> 4</bdi></a><span class="example-title">:  </span>
  </div> <pre class="turtle"><code class="turtle hljs" aria-busy="false">ex:sumFunction
    a           fno:Function ;
    fno:expects ( ex:intParameterA ex:intParameterB ) .

ex:intParameterA
    a             fno:Parameter ;
    fno:predicate ex:startValue ;
    fno:type:     xsd:integer ;
    fno:required  "true"^^xsd:
        boolean .

ex:intParameterB
    a             fno:Parameter ;
    fno:predicate ex:sumValue ;
    fno:type:     xsd:integer ;
    fno:required  "true"^^xsd:boolean .</code></pre>
      </div><p>A Function expects a list of Parameters and returns a list of Outputs. This description actually defines which
predicates to use when binding the values to the execution of the function. The parameters are ordered in a list, and
each parameter defines the relationship that is used for the execution. For this, the <code>fno:predicate</code> predicate <em class="rfc2119">MUST</em> be
used. All predicates are allowed, except for <code>rdf:type</code> and <code>fno:executes</code>. A Parameter can have a specific type or
other metadata (e.g., required or not, having a default value or not).</p><p>To specify the datatype of the parameter, the <code>fno:type</code> predicate <em class="rfc2119">SHOULD</em> be used.</p><p>To specify whether a parameter is required, the <code>fno:required</code> predicate <em class="rfc2119">SHOULD</em> be used.</p><p>In the example <code>ex:intParameterA</code> and <code>ex:intParameterB</code> can be reused across function descriptions. As they only
describe the parameters, and not the actual values, they can be reused. For example, the
function <code>function match(str, regex)</code> and <code>function split(str, regex)</code> could reuse the same parameter instantiations.</p><p>The <code>fno:expects</code> predicate has as range <code>rdf:List</code>. This could be used to hint applications how many parameters are
used, and in what order, however, this is not enforced. This to accommodate technologies where the order of parameters
is not important.</p><section id="fno-expects"><h5 id="fn-expects"><bdi class="secno">4.1.4.1 </bdi><code>fno:expects</code><a class="self-link" aria-label="§" href="#fn-expects"></a></h5><p><strong>Domain</strong> <a href="#fn-function">fno:Function</a></p><p><strong>Range</strong> <a href="http://www.w3.org/1999/02/22-rdf-syntax-ns#List">rdf:List</a> of
<a href="#fn-parameter">fno:Parameter</a></p></section><section id="fno-predicate"><h5 id="fn-predicate"><bdi class="secno">4.1.4.2 </bdi><code>fno:predicate</code><a class="self-link" aria-label="§" href="#fn-predicate"></a></h5><p><strong>Domain</strong> <a href="#fn-function">fno:Function</a></p><p><strong>Range</strong> <a href="http://www.w3.org/1999/02/22-rdf-syntax-ns#Property">rdf:Property</a></p></section><section id="fno-type"><h5 id="fn-type"><bdi class="secno">4.1.4.3 </bdi><code>fno:type</code><a class="self-link" aria-label="§" href="#fn-type"></a></h5><p><strong>Domain</strong> <a href="#fn-parameter">fno:Parameter</a></p></section><section id="fno-required"><h5 id="fn-required"><bdi class="secno">4.1.4.4 </bdi><code>fno:required</code><a class="self-link" aria-label="§" href="#fn-required"></a></h5><p><strong>Domain</strong> <a href="#fn-parameter">fno:Parameter</a></p><p><strong>Range</strong> <a href="http://www.w3.org/2001/XMLSchema#boolean">xsd:boolean</a></p></section></section><section id="fno-execution"><h4 id="fn-execution"><bdi class="secno">4.1.5 </bdi><code>fno:Execution</code><a class="self-link" aria-label="§" href="#fn-execution"></a></h4><div class="example" id="example-5-generatedID">
        <div class="marker">
    <a class="self-link" href="#example-5-generatedID">Example<bdi> 5</bdi></a><span class="example-title">:  </span>
  </div> <pre class="turtle"><code class="turtle hljs" aria-busy="false">ex:sumExecution
    a             fno:Execution ;
    fno:executes  ex:sumFunction ;
    ex:startValue "2"^^xsd:integer ;
    ex:sumValue   "4"^^xsd:integer.</code></pre>
      </div><p>The Execution shows how the predicates are used as described as Parameters of the Function.
<code>rdf:type</code> and <code>fno:executes</code> cannot be used as parameter predicates, as this would conflict with the description of the
execution.</p><section id="fno-executes"><h5 id="fn-executes"><bdi class="secno">4.1.5.1 </bdi><code>fno:executes</code><a class="self-link" aria-label="§" href="#fn-executes"></a></h5><p><strong>Domain</strong> <a href="#fn-execution">fno:Execution</a></p><p><strong>Range</strong> <a href="#fn-function">fno:Function</a></p></section></section><section id="fno-output"><h4 id="fn-output"><bdi class="secno">4.1.6 </bdi><code>fno:Output</code><a class="self-link" aria-label="§" href="#fn-output"></a></h4><div class="example" id="example-6-generatedID">
        <div class="marker">
    <a class="self-link" href="#example-6-generatedID">Example<bdi> 6</bdi></a><span class="example-title">:  </span>
  </div> <pre class="turtle"><code class="turtle hljs" aria-busy="false">ex:sumFunction
    a           fno:Function ;
    fno:returns ( ex:sumOutput ) .

ex:sumOutput
    a             fno:Output ;
    fno:predicate ex:sumResult ;
    fno:type:     xsd:integer ;
    fno:required  "true"^^xsd:boolean .</code></pre>
      </div><p>A function's output is also a list, as multiple values can be returned
(e.g., a Web API can return a body and a status code, a local implementation can return a value or throw an error).
Similar as with <code>fno:Parameter</code>, the connecting predicate is described for <code>fno:Output</code>. To specify the datatype of the
output, similarly, the <code>fno:type</code> predicate <em class="rfc2119">SHOULD</em> be used.</p><p>After the execution of the function with the correct parameter values, we could return the following turtle:</p><div class="example" id="example-7-generatedID">
        <div class="marker">
    <a class="self-link" href="#example-7-generatedID">Example<bdi> 7</bdi></a><span class="example-title">:  </span>
  </div> <pre class="turtle"><code class="turtle hljs" aria-busy="false">ex:sumExecution
    a            fno:Execution ;
    ex:sumResult "6"^^xsd:integer.</code></pre>
      </div><p>Similarly as with the parameter descriptions, the output descriptions can be reused across functions.</p><section id="fno-returns"><h5 id="fn-returns"><bdi class="secno">4.1.6.1 </bdi><code>fno:returns</code><a class="self-link" aria-label="§" href="#fn-returns"></a></h5><p><strong>Domain</strong> <a href="#fn-execution">fno:Execution</a></p><p><strong>Range</strong> <a href="#fn-output">fno:Output</a></p></section></section><section id="complete-example"><h4 id="x4-1-7-complete-example"><bdi class="secno">4.1.7 </bdi>Complete example<a class="self-link" aria-label="§" href="#complete-example"></a></h4><p>Declaration and description of the function and one execution:</p><div class="example" id="example-8-generatedID">
        <div class="marker">
    <a class="self-link" href="#example-8-generatedID">Example<bdi> 8</bdi></a><span class="example-title">:  </span>
  </div> <pre class="turtle"><code class="turtle hljs" aria-busy="false">ex:sumFunction
    a                   fno:Function ;
    fno:name            "The sum function"^^xsd:string ;
    dcterms:description "This function can do the sum of two integers."^^xsd:string ;
    fno:solves          ex:sumProblem ;
    fno:implements      ex:sumAlgorithm ;
    fno:expects         ( ex: intParameterA ex:intParameterB ) ;
        fno:returns ( ex:sumOutput ) .

ex:intParameterA
    a             fno:Parameter ;
    fno:predicate ex:startValue ;
    fno:type:     xsd:integer ;
    fno:required  "true"^^xsd:boolean .

ex:intParameterB
    a             fno:Parameter ;
    fno:predicate ex:sumValue ;
    fno:type:     xsd:integer ;
    fno:required  "true"^^xsd:boolean .

ex:sumOutput
    a             fno:Output ;
    fno:predicate ex:sumResult ;
    fno:type:     xsd:integer ;
    fno:required  "true"^^xsd:boolean .

ex:sumProblem
    a                   fno:Problem ;
    fno:name            "The sum problem"^^xsd:string ;
    dcterms:description "This handles the problem of adding two integers to each other."^^xsd:string ;
    skos:broader        ex:mathProblem .

ex:sumAlgorithm
    a                   fno:Algorithm ;
    fno:name            "The sum algorithm"^^xsd:string ;
    dcterms:description "About how to add two integers to each other."^^xsd:string .

ex:sumExecution
    a             fno:Execution ;
    fno:executes  ex:sumFunction ;
    ex:startValue "2"^^xsd:integer ;
    ex:sumValue   "4"^^xsd:integer .</code></pre>
      </div><p>Resulting output triples:</p><div class="example" id="example-9-generatedID">
        <div class="marker">
    <a class="self-link" href="#example-9-generatedID">Example<bdi> 9</bdi></a><span class="example-title">:  </span>
  </div> <pre class="turtle"><code class="turtle hljs" aria-busy="false">ex:sumExecution
    a            fno:Execution ;
    ex:sumResult "6"^^xsd:integer .</code></pre>
      </div></section></section><section id="implementation-concrete"><h3 id="ontology-concrete"><bdi class="secno">4.2 </bdi>Implementation (concrete)<a class="self-link" aria-label="§" href="#ontology-concrete"></a></h3><figure id="fig-the-function-ontology-linked-to-implementations">
    <img src="./resources/images/fno-full_0.6.0.png" alt="The Function Ontology" width="1265" height="468">
    <figcaption>Figure <bdi class="figno">2</bdi> <span class="fig-title">The Function Ontology, linked to implementations</span></figcaption>
</figure><section id="fno-implementation-0"><h4 id="fno-implementation"><bdi class="secno">4.2.1 </bdi><code>fno:Implementation</code><a class="self-link" aria-label="§" href="#fno-implementation"></a></h4><div class="example" id="example-10-generatedID">
        <div class="marker">
    <a class="self-link" href="#example-10-generatedID">Example<bdi> 10</bdi></a><span class="example-title">:  </span>
  </div> <pre class="turtle"><code class="turtle hljs" aria-busy="false">ex:leftPadImplementation
    a         fnoi:NpmPackage ;
    doap:name "left-pad" .</code></pre>
      </div><section id="example-hydra"><h5 id="hydra"><bdi class="secno">4.2.1.1 </bdi>Example: Hydra<a class="self-link" aria-label="§" href="#hydra"></a></h5><p>Link with the <a href="http://www.hydra-cg.com/spec/latest/core/">Hydra specification</a>.</p><p>The Hydra specification <a data-lt="implementation" href="#dfn-implementation" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-implementation-3">defines</a> Web services semantically. A <code>hydra:ApiDocumentation</code>
can thus be seen as a specific <code>fno:Implementation</code>.</p></section></section><section id="fno-mapping"><h4 id="fno-Mapping"><bdi class="secno">4.2.2 </bdi><code>fno:Mapping</code><a class="self-link" aria-label="§" href="#fno-Mapping"></a></h4><p>A <code>fno:Mapping</code> maps a <code>fno:Function</code> to a (part) of an <code>fno:Implementation</code>. For example: a left-pad function is mapped
to a specific method in an NPM package. This requires the combination of 3 types of mappings:</p><ul>
<li>the mapping of the method name
(so that, e.g., a <code>ex:leftPad</code> function is mapped to method <code>doLeftPadding()</code>),</li>
<li>the mapping of the parameters
(so that, e.g., the argument with predicate
<code>ex:inputString</code> of the function is mapped to the second parameter of the <code>doLeftPadding()</code> method), and</li>
<li>the mapping of the outputs
(so that, e.g., both the return value and the thrown exception of the method are mapping to the outputs of the
function).</li>
</ul><p>To link to the function and implementation, predicates <code>fno:function</code> and <code>fno:implementation</code> are used, respectively.</p><p>Note that the actual implementations and mappings are not part of the Function Ontology. Specific development contexts
can be further catered to.</p><div class="example" id="example-11-generatedID">
        <div class="marker">
    <a class="self-link" href="#example-11-generatedID">Example<bdi> 11</bdi></a><span class="example-title">:  </span>
  </div> <pre class="turtle"><code class="turtle hljs" aria-busy="false">ex:leftPadMapping
    a                  fno:Mapping ;
    fno:function       ex:leftPad ;
    fno:implementation ex:leftPadImplementation .</code></pre>
      </div><section id="fno-methodmapping"><h5 id="fno-MethodMapping"><bdi class="secno">4.2.2.1 </bdi><code>fno:MethodMapping</code><a class="self-link" aria-label="§" href="#fno-MethodMapping"></a></h5><p>Maps the method name. For source code, this can be done using a <code>fnom:StringMethodMapping</code>. The method name is an
attribute of a <code>fnom:StringMethodMapping</code>, linked using the <code>fnom:method-name</code> predicate.</p><div class="example" id="example-12-generatedID">
        <div class="marker">
    <a class="self-link" href="#example-12-generatedID">Example<bdi> 12</bdi></a><span class="example-title">:  </span>
  </div> <pre class="turtle"><code class="turtle hljs" aria-busy="false">ex:leftPadMapping
    a                 fno:Mapping ;
    fno:methodMapping [ a                fnom:StringMethodMapping ;
                        fnom:method-name "doLeftPadding" ] .
</code></pre>
      </div></section><section id="fno-parametermapping"><h5 id="fno-ParameterMapping"><bdi class="secno">4.2.2.2 </bdi><code>fno:ParameterMapping</code><a class="self-link" aria-label="§" href="#fno-ParameterMapping"></a></h5><p>Maps the different parameters. For source code, this is typically specified by the position,
using <code>fnom:PositionParameterMapping</code>:
each <code>fno:ParameterMapping</code> gets linked to a parameter using the <code>fnom:functionParameter</code> predicate, and to a position
using the <code>fnom:implementationParameterPosition</code> predicate.</p><div class="example" id="example-13-generatedID">
        <div class="marker">
    <a class="self-link" href="#example-13-generatedID">Example<bdi> 13</bdi></a><span class="example-title">:  </span>
  </div> <pre class="turtle"><code class="turtle hljs" aria-busy="false">ex:leftPadMapping
    a                    fno:Mapping ;
    fno:parameterMapping [ a                                    fnom:PositionParameterMapping ;
                           fnom:functionParameter               ex:inputStringParameter ;
                           fnom:implementationParameterPosition "2"^^xsd:int ] .
</code></pre>
      </div><p>For a Web service, this is typically specified by a name, e.g., a POST using property "password" in the form body.
A <code>fnom:PropertyParameterMapping</code> is used. Each <code>fno:ParameterMapping</code> gets linked to a parameter using
the <code>fnom:functionParameter</code> predicate, and to a property using the <code>fnom:implementationProperty</code> predicate.</p></section><section id="fno-returnmapping"><h5 id="fno-ReturnMapping"><bdi class="secno">4.2.2.3 </bdi><code>fno:ReturnMapping</code><a class="self-link" aria-label="§" href="#fno-ReturnMapping"></a></h5><p>Maps the different outputs. For source code, this is typically specified by the return value, and (optionally) thrown
exceptions, using <code>fnom:DefaultReturnMapping</code> and <code>fnom:ExceptionReturnMapping</code>, respectively:
each <code>fno:ReturnMapping</code> gets linked to an output using the <code>fnom:functionOutput</code> predicate.</p><div class="example" id="example-14-generatedID">
        <div class="marker">
    <a class="self-link" href="#example-14-generatedID">Example<bdi> 14</bdi></a><span class="example-title">:  </span>
  </div> <pre class="turtle"><code class="turtle hljs" aria-busy="false">ex:leftPadMapping
    a                 fno:Mapping ;
    fno:returnMapping [ a                   fnom:DefaultReturnMapping ;
                        fnom:functionOutput ex:outputStringOutput ] .
</code></pre>
      </div></section></section><section id="execution-with-a-mapping"><h4 id="x4-2-3-execution-with-a-mapping"><bdi class="secno">4.2.3 </bdi>Execution with a Mapping<a class="self-link" aria-label="§" href="#execution-with-a-mapping"></a></h4><section id="fno-uses-0"><h5 id="fno-uses"><bdi class="secno">4.2.3.1 </bdi><code>fno:uses</code><a class="self-link" aria-label="§" href="#fno-uses"></a></h5><p>The metadata of the mapping can be linked to the execution using the <code>fno:uses</code> predicate</p><div class="example" id="example-15-generatedID">
        <div class="marker">
    <a class="self-link" href="#example-15-generatedID">Example<bdi> 15</bdi></a><span class="example-title">:  </span>
  </div> <pre class="turtle"><code class="turtle hljs" aria-busy="false">ex:leftPadExecution
    fno:uses ex:leftPadMapping</code></pre>
      </div></section></section></section><section id="full-example"><h3 id="x4-3-full-example"><bdi class="secno">4.3 </bdi>Full example<a class="self-link" aria-label="§" href="#full-example"></a></h3><div class="example" id="example-16-generatedID">
        <div class="marker">
    <a class="self-link" href="#example-16-generatedID">Example<bdi> 16</bdi></a><span class="example-title">:  </span>
  </div> <pre class="turtle"><code class="turtle hljs" aria-busy="false">ex:leftPad
    a           fno:Function ;
    fno:expects ( ex:inputStringParameter ex:paddingParameter ) ;
    fno:returns ( ex:outputStringOutput ) .

ex:inputStringParameter
    a             fno:Parameter ;
    fno:predicate ex:inputString ;
    fno:type      xsd:string ;
    fno:required  "true"^^xsd:boolean .

ex:paddingParameter
    a             fno:Parameter ;
    fno:predicate ex:padding ;
    fno:type      xsd:int ;
    fno:required  "false"^^xsd:boolean .

ex:leftPadImplementation
    a         fnoi:NpmPackage ;
    doap:name "left-pad" .

ex:leftPadMapping
    a                    fno:Mapping ;
    fno:function         ex:leftPad ;
    fno:implementation   ex:leftPadImplementation ;
    fno:methodMapping    [ a                fnom:StringMethodMapping ;
                           fnom:method-name "doLeftPadding" ] ;
    fno:parameterMapping [ a                                    fnom:PositionParameterMapping ;
                           fnom:functionParameter               ex:inputStringParameter ;
                           fnom:implementationParameterPosition "2"^^xsd:int ] ;
    fno:parameterMapping [ a                                    fnom:PositionParameterMapping ;
                           fnom:functionParameter               ex:paddingParameter ;
                           fnom:implementationParameterPosition "1"^^xsd:int ] ;
    fno:returnMapping    [ a                   fnom:DefaultReturnMapping ;
                           fnom:functionOutput ex:outputStringOutput ] .</code></pre>
      </div></section></section>

<section id="examples-0"><h2 id="examples"><bdi class="secno">5. </bdi>Examples<a class="self-link" aria-label="§" href="#examples"></a></h2><p>The following sections are a set of FAQs and How-to's regarding the Function Ontology.</p><section id="array-of-parameters"><h3 id="x5-1-array-of-parameters"><bdi class="secno">5.1 </bdi>Array of parameters<a class="self-link" aria-label="§" href="#array-of-parameters"></a></h3><p>The model allows for arrays of parameters. For example, the following
function <code>function findInString(str, [searchValues...])</code>
could be described as follows:</p><p></p><div class="example" id="example-17-generatedID">
        <div class="marker">
    <a class="self-link" href="#example-17-generatedID">Example<bdi> 17</bdi></a><span class="example-title">:  </span>
  </div> <pre class="turtle"><code class="turtle hljs" aria-busy="false">ex:findInString a fno:Function ; 
    fno:name "Finding multiple values in a string function"^^xsd:string ; 
    dcterms:description "This function returns true if any of the input values is found in the string."^^xsd:string ;
    fno:expects (
        [ fno:predicate ex:body; fno:required "true"^^xsd:boolean ]
        [ fno:predicate ex:searchValues; fno:required "true"^^xsd:boolean ]
        [ fno:predicate ex:found; fno:required "true"^^xsd:boolean ]
    ) .

ex:findExecution a fno:Execution ;
    fno:executes ex:findInString ;
    ex:body "Try and find some values in this string."^^xsd:string ;
    ex:searchValues ("Paris" "Brussels" "Tokyo" "Los Angeles") .</code></pre>
      </div></section><section id="required-output"><h3 id="x5-2-required-output"><bdi class="secno">5.2 </bdi>Required output<a class="self-link" aria-label="§" href="#required-output"></a></h3><p>Output can be assigned required or not. For example, thrown errors are an example of optional output.</p></section></section>

<section id="relation-to-other-types-of-descriptions"><h2 id="x6-relation-to-other-types-of-descriptions"><bdi class="secno">6. </bdi>Relation to other types of descriptions<a class="self-link" aria-label="§" href="#relation-to-other-types-of-descriptions"></a></h2><section id="web-services"><h3 id="x6-1-web-services"><bdi class="secno">6.1 </bdi>Web services<a class="self-link" aria-label="§" href="#web-services"></a></h3><p>There exist many specifications that define Web services,
both non-semantically (e.g., WSDL [<cite><a class="bibref" data-link-type="biblio" href="#bib-wsdl" title="Web Service Definition Language (WSDL)">wsdl</a></cite>] and WADL [<cite><a class="bibref" data-link-type="biblio" href="#bib-wadl" title="Web Application Description Language">wadl</a></cite>])
and semantically (e.g., OWL-S [<cite><a class="bibref" data-link-type="biblio" href="#bib-owls" title="OWL-S: Semantic Markup for Web Services">owls</a></cite>] and Hydra [<cite><a class="bibref" data-link-type="biblio" href="#bib-hydra" title="Hydra Core Vocabulary">hydra</a></cite>])
These specifications target different facets
(e.g., HTTP-based vs SOAP-based access, defining RESTful APIs, etc.),
but have in common that they <em>define Web services</em>.
Thus, they clearly specify, e.g.,
which HTTP method to invoke with which parameter to correctly call the Web service.
The big drawback of these specifications is thus
that they are very coupled with the technology stack.
However, not all actions can be executed using Web APIs,
either because of performance or practicality reasons.</p></section></section>



<section id="references" class="appendix"><h2 id="a-references"><bdi class="secno">A. </bdi>References<a class="self-link" aria-label="§" href="#references"></a></h2><section id="normative-references">
    <h3 id="a-1-normative-references"><bdi class="secno">A.1 </bdi>Normative references<a class="self-link" aria-label="§" href="#normative-references"></a></h3>
    <dl class="bibliography"><dt id="bib-hydra">[hydra]</dt><dd><a href="https://www.hydra-cg.com/spec/latest/core/"><cite>Hydra Core Vocabulary</cite></a>.  W3C. 08 December 2020. Unofficial Draft. URL: <a href="https://www.hydra-cg.com/spec/latest/core/">https://www.hydra-cg.com/spec/latest/core/</a></dd><dt id="bib-owls">[owls]</dt><dd><a href="https://www.w3.org/Submission/OWL-S/"><cite>OWL-S: Semantic Markup for Web Services</cite></a>.  W3C. 22 November 2004. W3C Member Submission. URL: <a href="https://www.w3.org/Submission/OWL-S/">https://www.w3.org/Submission/OWL-S/</a></dd><dt id="bib-rdf-primer">[rdf-primer]</dt><dd><a href="https://www.w3.org/TR/rdf-primer/"><cite>RDF Primer</cite></a>. Frank Manola; Eric Miller.  W3C. 10 February 2004. W3C Recommendation. URL: <a href="https://www.w3.org/TR/rdf-primer/">https://www.w3.org/TR/rdf-primer/</a></dd><dt id="bib-rfc2119">[RFC2119]</dt><dd><a href="https://tools.ietf.org/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner.  IETF. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a></dd><dt id="bib-rfc8174">[RFC8174]</dt><dd><a href="https://tools.ietf.org/html/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba.  IETF. May 2017. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc8174">https://tools.ietf.org/html/rfc8174</a></dd><dt id="bib-skos-primer">[skos-primer]</dt><dd><a href="https://www.w3.org/TR/skos-primer/"><cite>SKOS Simple Knowledge Organization System Primer</cite></a>. Antoine Isaac; Ed Summers.  W3C. 18 August 2009. W3C Note. URL: <a href="https://www.w3.org/TR/skos-primer/">https://www.w3.org/TR/skos-primer/</a></dd><dt id="bib-wadl">[wadl]</dt><dd><a href="https://www.w3.org/Submission/wadl/"><cite>Web Application Description Language</cite></a>.  W3C. 31 August 2009. W3C Member Submission. URL: <a href="https://www.w3.org/Submission/wadl/">https://www.w3.org/Submission/wadl/</a></dd><dt id="bib-wsdl">[wsdl]</dt><dd><a href="https://www.w3.org/TR/wsdl"><cite>Web Service Definition Language (WSDL)</cite></a>.  W3C. 15 March 2001. W3C Note. URL: <a href="https://www.w3.org/TR/wsdl">https://www.w3.org/TR/wsdl</a></dd></dl>
  </section><section id="informative-references">
    <h3 id="a-2-informative-references"><bdi class="secno">A.2 </bdi>Informative references<a class="self-link" aria-label="§" href="#informative-references"></a></h3>
    <dl class="bibliography"><dt id="bib-10.1016/j.future.2019.10.006">[10.1016/j.future.2019.10.006]</dt><dd><a href="https://doi.org/10.1016/j.future.2019.10.006"><cite>Implementation-independent function reuse</cite></a>. Ben De Meester; Tom Seymoens; Anastasia Dimou; Ruben Verborgh.  Elsevier. September 2020. Future Generation Computer Systems. URL: <a href="https://doi.org/10.1016/j.future.2019.10.006">https://doi.org/10.1016/j.future.2019.10.006</a></dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><aside class="dfn-panel" id="dfn-panel-for-dfn-function-declaration" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-function-declaration">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-function-declaration-1">3. Definitions</a> <a href="#ref-for-dfn-function-declaration-2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-function-declaration-3">4.1.1 fno:Function</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" id="dfn-panel-for-dfn-function-description" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-function-description">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-function-description-1">3. Definitions</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" id="dfn-panel-for-dfn-assignment" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-assignment">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-assignment-1">3. Definitions</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" id="dfn-panel-for-dfn-function" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-function">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-function-1">3. Definitions</a> <a href="#ref-for-dfn-function-2">(2)</a> <a href="#ref-for-dfn-function-3">(3)</a> <a href="#ref-for-dfn-function-4">(4)</a> <a href="#ref-for-dfn-function-5">(5)</a> <a href="#ref-for-dfn-function-6">(6)</a> <a href="#ref-for-dfn-function-7">(7)</a> <a href="#ref-for-dfn-function-8">(8)</a> 
  </li><li>
    <a href="#ref-for-dfn-function-9">4.1 Function (abstract)</a> <a href="#ref-for-dfn-function-10">(2)</a> <a href="#ref-for-dfn-function-11">(3)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" id="dfn-panel-for-dfn-problem" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-problem">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-problem-1">3. Definitions</a> <a href="#ref-for-dfn-problem-2">(2)</a> <a href="#ref-for-dfn-problem-3">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-problem-4">4.1 Function (abstract)</a> <a href="#ref-for-dfn-problem-5">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" id="dfn-panel-for-dfn-algorithm" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-algorithm">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-algorithm-1">3. Definitions</a> <a href="#ref-for-dfn-algorithm-2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-algorithm-3">4.1 Function (abstract)</a> <a href="#ref-for-dfn-algorithm-4">(2)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" id="dfn-panel-for-dfn-parameter" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-parameter">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-parameter-1">3. Definitions</a> 
  </li><li>
    <a href="#ref-for-dfn-parameter-2">4.1 Function (abstract)</a> <a href="#ref-for-dfn-parameter-3">(2)</a> <a href="#ref-for-dfn-parameter-4">(3)</a> <a href="#ref-for-dfn-parameter-5">(4)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" id="dfn-panel-for-dfn-output" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-output">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-output-1">3. Definitions</a> <a href="#ref-for-dfn-output-2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-output-3">4.1 Function (abstract)</a> <a href="#ref-for-dfn-output-4">(2)</a> <a href="#ref-for-dfn-output-5">(3)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" id="dfn-panel-for-dfn-execution" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-execution">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-execution-1">3. Definitions</a> 
  </li><li>
    <a href="#ref-for-dfn-execution-2">4.1 Function (abstract)</a> <a href="#ref-for-dfn-execution-3">(2)</a> <a href="#ref-for-dfn-execution-4">(3)</a> <a href="#ref-for-dfn-execution-5">(4)</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" id="dfn-panel-for-dfn-implementation" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-implementation">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
    <li>
    <a href="#ref-for-dfn-implementation-1">3. Definitions</a> <a href="#ref-for-dfn-implementation-2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-implementation-3">4.2.1.1 Example: Hydra</a> 
  </li>
  </ul>
    </aside><aside class="dfn-panel" id="dfn-panel-for-dfn-mapping" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-mapping">Permalink</a>
         
      </div>
      <b>Referenced in:</b>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </aside><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(dfnPanel);
} else {
  dfnPanel();
}

function dfnPanel() {
  /** @type {HTMLElement} */
  let panel;
  document.body.addEventListener("click", event => {
    if (!(event.target instanceof HTMLElement)) return;

    /** @type {HTMLElement} */
    const el = event.target;

    const action = deriveAction(el);
    switch (action) {
      case "show": {
        if (panel) hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = el.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        displayPanel(dfn, panel, { x: event.clientX, y: event.clientY });
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        break;
      }
    }
  });
}

/** @param {HTMLElement} clickTarget */
function deriveAction(clickTarget) {
  const hitALink = !!clickTarget.closest("a");
  if (clickTarget.closest("dfn, .index-term")) {
    return hitALink ? null : "show";
  }
  if (clickTarget.closest(".dfn-panel")) {
    if (hitALink) {
      const clickedSelfLink = clickTarget.classList.contains("self-link");
      return clickedSelfLink ? "hide" : "dock";
    }
    const panel = clickTarget.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : null;
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return null;
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script></body></html>